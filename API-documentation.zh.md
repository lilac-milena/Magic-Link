# Magic Link API æ–‡æ¡£
> ğŸŒ [English translation of this document](API-documentation.md)

> â— è¯·ç¡®ä¿æ‚¨æ‰€éƒ¨ç½²çš„ Magic Link çš„ç‰ˆæœ¬åœ¨ [Commit-cac2f3f4ba45b987cf8952ea405d9764c66b4c39](https://github.com/lilac-milena/Magic-Link/commit/cac2f3f4ba45b987cf8952ea405d9764c66b4c39) åï¼Œåªæœ‰è¯¥ç‰ˆæœ¬åçš„ä»£ç æ‰é€‚é…äº†è¯¥æ–‡æ¡£æ‰€æè¿°çš„æ–°ç‰ˆé‰´æƒæ–¹å¼ã€‚

> ğŸ‘€ Magic Link ä¸ºå¼€å‘è€…æä¾›äº† å¢ã€æŸ¥ã€åˆ  ä¸‰ä¸ª API æ¥å£ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿåœ°å°† Magic Link æ¥å…¥å…¶ä»–åº”ç”¨ç¨‹åº  
> Magic Link çš„æ‰€æœ‰ API è¯·æ±‚å‡é€šè¿‡ â€œGETâ€ æ–¹å¼ï¼Œè¯¥æ–‡æ¡£å°†æŒ‡å¯¼æ‚¨æ ¹æ®æ‚¨æ‹¼æ¥å‡º API URIã€‚  

## ã€å¿…çœ‹ã€‘é‰´æƒéƒ¨åˆ†
Magic Link åŒå¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºä¸€æ ·ï¼ŒAPI çš„é‰´æƒå‚æ•°åœ¨è¯·æ±‚å¤´ï¼ˆHeaderï¼‰ä¸­è¿›è¡Œä¼ é€’ï¼š
|  å‚æ•°å   | è§£é‡Š  |
|  ----  | ----  |
| type  | é‰´æƒæ–¹å¼ï¼Œå¯¹äºä¸€èˆ¬ç”¨æˆ·è€Œè¨€ï¼Œåº”è¯¥å¡«å†™ "session" |
| session  | é‰´æƒå¯†é’¥ï¼ˆSessionï¼‰ |

> Magic-Link ä¹‹æ‰€ä»¥å¼•å…¥ "type" å‚æ•°æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…åç»­è‡ªè¡Œæ¥å…¥ç¬¬ä¸‰æ–¹è®¤è¯ç³»ç»Ÿ

ç¤ºä¾‹è¯·æ±‚å¤´:
```
type: session
session: YourSession
```

## æ–°å»ºï¼ˆå¢ï¼‰
### ç®€ä»‹
Hostï¼š/admin/api/create  
æ–¹å¼ï¼šGET  
è¯·æ±‚å¤´ï¼šè¯·é™„å¸¦é‰´æƒè¯·æ±‚å¤´  
GETå‚æ•°ï¼š
|  å‚æ•°å   | è§£é‡Š | å¤‡æ³¨  |
|  ----  | ----  | ----  |
| to  | é•¿é“¾æ¥ï¼ˆè¦è½¬æ¢çš„é“¾æ¥ï¼‰ | 1. é¡»ä»¥ http:// https:// mailto:// æˆ– ftp:// å¼€å¤´ï¼Œ2. **éœ€è½¬æ¢ä¸º Base64 ç¼–ç ** |
| path  | çŸ­é“¾æ¥ï¼ˆè½¬æ¢åçš„é“¾æ¥ï¼‰ è·¯å¾„ | **å¯ç©º**ï¼Œéœ€ä»¥æ­£æ–œæ (/)å¼€å¤´ï¼Œç•™ç©ºåˆ™éšæœºç”Ÿæˆï¼ˆä¼šä¿è¯ä¸ä¸å·²å­˜åœ¨çš„ path ç›¸å†²çªï¼‰ï¼Œå¦‚ï¼ˆä¸ç•™ç©ºï¼‰æŒ‡å®šçš„ path å·²ç»å­˜åœ¨ï¼Œåˆ™ä¸ä¼šç»§ç»­æ–°å»º |

### ç¤ºä¾‹ cURLï¼š
``` bash
curl --location 'https://example.com/admin/api/create?to=aHR0cHM6Ly9nb29nbGUuY29tLw%3D%3D' \
--header 'type: session' \
--header 'session: YourSession'
```

## åˆ é™¤ï¼ˆåˆ ï¼‰
### ç®€ä»‹
Host: /admin/api/delete  
æ–¹å¼ï¼š GET  
è¯·æ±‚å¤´ï¼šè¯·æºå¸¦é‰´æƒè¯·æ±‚å¤´
GET å‚æ•°ï¼š
|  å‚æ•°å   | è§£é‡Š | å¤‡æ³¨  |
|  ----  | ----  | ----  |
| path | è¦åˆ é™¤çš„é“¾æ¥ | **ä»¥æ­£æ–œæ (/)å¼€å¤´** |

### ç¤ºä¾‹cURLï¼š
``` bash
curl --location 'https://example.com/admin/api/delete?path=%2Fpath' \
--header 'type: session' \
--header 'session: YourSession'
``` 

## æŸ¥è¯¢ï¼ˆæŸ¥ï¼‰
### ç®€ä»‹
Hostï¼š/admin/api/getLinkList  
æ–¹å¼ï¼š GET  
è¯·æ±‚å¤´ï¼šè¯·æºå¸¦é‰´æƒè¯·æ±‚å¤´
GET å‚æ•°ï¼š
|  å‚æ•°å   | è§£é‡Š | å¤‡æ³¨  |
|  ----  | ----  | ----  |
| page | æŸ¥è¯¢é¡µæ•° | **"0" ä¸ºåˆå§‹é¡µæ•°** |
| pageSize | å•é¡µæ•°é‡ |  |
| other | æŸ¥è¯¢é™åˆ¶å‚æ•° | **å¯ç©º**ï¼Œä½¿ç”¨åŸºæœ¬ *Mongodb query syntax* è¯­æ³•ï¼Œä½¿ç”¨è¯¦è§ä¸‹æ–‡ |

### ç¤ºä¾‹cURLï¼š
``` bash
curl --location 'https://example.com/admin/api/getLinkList?page=0&pageSize=20' \
--header 'type: session' \
--header 'session: YourSession'
```

### å¦‚ä½•ä½¿ç”¨æŸ¥è¯¢é™åˆ¶å‚æ•°ï¼ˆä¸‹ç§°æŸ¥å‚ï¼‰ï¼š  
æŸ¥å‚ä¸ºä¸€ä¸ª JSON å­—æ®µï¼Œç”¨äºåœ¨ Mongodb æ•°æ®åº“æŸ¥è¯¢æ—¶é™å®šæŸ¥è¯¢å†…å®¹ï¼šï¼Œä»¥ä¸‹ä¸ºå‡ ä¸ªç¤ºä¾‹ï¼š  
``` JSON
// æŸ¥è¯¢æŒ‡å‘ https://google.com/ çš„é“¾æ¥
{
    "to":"https://google.com/"
}
```
``` JSON
// æŸ¥è¯¢è·¯å¾„ä¸º /google çš„é“¾æ¥
{
    "path":"/google"
}
```
``` JSON
// æŸ¥è¯¢åˆ›å»ºè€…ä¸º admin çš„é“¾æ¥
// æœ¬æŸ¥è¯¢ç¤ºä¾‹ä¸­çš„ creater å­—æ®µæ‹¼å†™é”™è¯¯æ˜¯å†å²é—ç•™é—®é¢˜ï¼Œå› è€ƒè™‘åˆ°æ•°æ®åº“ç»“æ„è·¨ç‰ˆæœ¬å…¼å®¹æ€§ï¼Œæ•…æ²¡æœ‰ä¿®æ”¹ã€‚
{
    "creater":"admin"
}
```